#进程与线程
----
#进程
##进程模型
进程就是一个正在执行程序的实例，包括程序计数器，寄存器和变量当前的值。  
一个进程是某种类型的一个活动，它有程序、输入、输出以及状态。单个处理器可以被若干进程共享，使用某种调度算法决定何时停止一个进程的工作而为另一个进程服务。
##进程创建
4种主要事件导致进程创建
>系统初始化  
>
>正在运行的程序执行了创建进程的系统调用    
>
>用户请求创建一个新进程  
>
>一个批处理作业的初始化
##进程终止
通常由以下条件引起  
>正常退出（自愿的）
>
>出错退出（自愿的）
>
>严重错误（非自愿） 
>
>被其它进程杀死（非自愿)  
##进程的层次结构
进程有一个父进程，但是可以有多个子进程。
##进程的状态
>1、运行态（该时刻进程实际占用CPU）  
>2、阻塞态（可运行，但因为其它进程正在运行而暂时停止）  
>3、就绪态（除非某种外部事件发生，否则进程不能运行）
![avatar](http://thyrsi.com/t6/617/1543313761x2890211738.jpg)  
##进程的实现
操作系统维护着一张进程表，每个进程占用一个表项，包括程序计数器，堆栈指针，内存分配情况，所打开的文件状态，账号，调度信息，以及其它进程由运行态转换到就绪态或阻塞态时必须保存的信息。  
![avatar](http://thyrsi.com/t6/618/1543404930x2890211738.jpg)
##多道程序设计模型
采用多道程序设计有利于提高CPU的利用率  
假设进程等待IO的时间与其停留在内存的时间之比为P，当内存中有n个进程时，所有进程等待IO概率为p^n，  
则CPU利用率为：  **1-p^n**  n称为多道程序设计的道数。

---
#线程
##线程的使用
需要多线程原因：  
>在许多应用中同时发生着多种活动，某些活动随着时间推移会被阻塞，通过将其分解为可以准并行运行的多个顺序线程使程序设计模型更简单  
>线程比进程更加轻量级，比进程更容易创建和撤销。




